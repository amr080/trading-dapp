(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5405],{48312:function(e,l,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(56298)}])},61122:function(e,l){"use strict";l.Z=(e,l)=>fetch("/api/dashboard-strategy-graph?userVault=".concat(e,"&address=").concat(l)).then(async e=>{try{return e.json()}catch(e){return{}}})},83241:function(e,l,t){"use strict";t.d(l,{Bw:function(){return u},Ph:function(){return d},Ql:function(){return f},U$:function(){return p},i4:function(){return x},ki:function(){return c}});var s=t(85893),a=t(67294),r=t(85872),n=t(13742),i=t(63750),o=t(95306);let d=r.fC;r.ZA;let c=r.B4,x=a.forwardRef((e,l)=>{let{className:t,children:a,...n}=e;return(0,s.jsxs)(r.xz,{ref:l,className:(0,o.cn)("flex h-10 w-[50px] gap-2 items-center justify-end rounded-md border border-slate-300 bg-transparent py-2 px-3 text-sm placeholder:text-slate-400 focus:outline-none focus:ring-2 focus:ring-slate-400 focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 dark:border-slate-700 dark:text-slate-50 dark:focus:ring-slate-400 dark:focus:ring-offset-slate-900",t),...n,children:[a,(0,s.jsx)(i.F0C,{})]})});x.displayName=r.xz.displayName;let u=a.forwardRef((e,l)=>{let{className:t,children:a,...n}=e;return(0,s.jsx)(r.h_,{children:(0,s.jsx)(r.VY,{ref:l,className:(0,o.cn)("relative z-50 min-w-[12rem] overflow-hidden rounded-md bg-[#161617] text-slate-700 shadow-md animate-in fade-in-80 dark:border-slate-800 dark:bg-slate-800 dark:text-slate-400",t),...n,children:(0,s.jsx)(r.l_,{className:"p-1",children:a})})})});u.displayName=r.VY.displayName,a.forwardRef((e,l)=>{let{className:t,...a}=e;return(0,s.jsx)(r.__,{ref:l,className:(0,o.cn)("py-1.5 pr-2 pl-8 text-sm font-semibold text-white",t),...a})}).displayName=r.__.displayName;let f=a.forwardRef((e,l)=>{let{className:t,children:a,...i}=e;return(0,s.jsxs)(r.ck,{ref:l,className:(0,o.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pr-2 pl-8 text-xs font-light tracking-wide text-white outline-none focus:bg-white/10 data-[disabled]:pointer-events-none data-[disabled]:opacity-50 dark:focus:bg-slate-700",t),...i,children:[(0,s.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,s.jsx)(r.wU,{children:(0,s.jsx)(n.Z,{className:"h-4 w-4"})})}),(0,s.jsx)(r.eT,{children:a})]})});f.displayName=r.ck.displayName;let p=a.forwardRef((e,l)=>{let{className:t,...a}=e;return(0,s.jsx)(r.Z0,{ref:l,className:(0,o.cn)("-mx-1 my-1 h-px bg-slate-100 dark:bg-slate-700",t),...a})});p.displayName=r.Z0.displayName},30075:function(e,l,t){"use strict";t.d(l,{If:function(){return c},SP:function(){return d},dr:function(){return o},mQ:function(){return i},nU:function(){return x}});var s=t(85893),a=t(67294),r=t(60434),n=t(95306);let i=r.fC,o=a.forwardRef((e,l)=>{let{className:t,...a}=e;return(0,s.jsx)(r.aV,{ref:l,className:(0,n.cn)(t),...a})});o.displayName=r.aV.displayName;let d=a.forwardRef((e,l)=>{let{className:t,...a}=e;return(0,s.jsx)(r.xz,{className:(0,n.cn)("inline-flex min-w-[100px] items-center justify-center border-b-2 border-b-transparent px-3 py-1.5 text-sm font-medium text-white transition-all disabled:pointer-events-none disabled:opacity-50 data-[state=active]:border-b-white data-[state=active]:font-bold dark:text-slate-200 ",t),...a,ref:l})});d.displayName=r.xz.displayName;let c=a.forwardRef((e,l)=>{let{className:t,...a}=e;return(0,s.jsx)(r.xz,{className:(0,n.cn)("inline-flex transition-all items-center justify-center rounded-xl text-sm font-light bg-[#2054A5] disabled:bg-[#717171] disabled:pointer-events-none data-[state=open]:bg-[#2054A5]/10 dark:data-[state=open]:bg-slate-800 bg-transparent border border-[#2E3D52] hover:bg-[#2054A5]/10 h-10 py-2 px-5 data-[state=active]:bg-[#384557] data-[state=active]:border-[#384557]",t),...a,ref:l})});c.displayName=r.xz.displayName;let x=a.forwardRef((e,l)=>{let{className:t,...a}=e;return(0,s.jsx)(r.VY,{className:(0,n.cn)("mt-2 rounded-md",t),...a,ref:l})});x.displayName=r.VY.displayName},56298:function(e,l,t){"use strict";t.r(l),t.d(l,{default:function(){return D}});var s=t(85893),a=t(41664),r=t.n(a),n=t(11163),i=t(67294),o=t(63750),d=t(64712),c=t(69077);let x=(0,t(64529).Ue)(e=>({dashboardChartSelected:"all",setDashboardChartSelected:l=>e({dashboardChartSelected:l})}));var u=t(5152),f=t.n(u),p=t(61122);let m=f()(()=>Promise.all([t.e(5279),t.e(7229)]).then(t.bind(t,47229)),{loadableGenerated:{webpack:()=>[47229]},ssr:!1}),h=()=>{let{address:e}=(0,c.mA)(),{dashboardChartSelected:l}=x(),[t,a]=(0,i.useState)([]),[r,n]=(0,i.useState)([]),[o,d]=(0,i.useState)([]),u=async()=>{let t=await (0,p.Z)(l,String(e));n(t.amountInvested),a(t.portfolioValue),d(t.timeArray)};return(0,i.useEffect)(()=>{u()},[l,e]),(0,s.jsx)(m,{options:{chart:{type:"area",foreColor:"#fff"},dataLabels:{enabled:!1},stroke:{curve:"smooth"},xaxis:{type:"datetime",categories:o},yaxis:{labels:{formatter:e=>"$ "+(null==e?void 0:e.toFixed(2))}},tooltip:{theme:"dark",x:{format:"dd/MM/yy HH:mm"}}},series:[{name:"Current Value",data:t},{name:"Deposited Amount",data:r}],type:"area",height:"270"})};var j=t(95306),N=t(16889);let v=e=>(0,s.jsxs)("div",{className:"bg-gradient-custom-90.76deg flex w-full flex-col space-y-8 rounded-xl p-8",children:[(0,s.jsxs)("div",{className:"flex flex-col justify-center space-y-1",children:[(0,s.jsx)("p",{className:"text-xs font-light tracking-wide ",children:"Portfolio Value"}),(0,s.jsx)("p",{className:(0,j.cn)("text-lg font-semibold"),children:isNaN(e.portfolio_card_props.portfolio_value)?"0.00":N.A.format(e.portfolio_card_props.portfolio_value)})]}),(0,s.jsxs)("div",{className:"flex flex-col justify-center space-y-1",children:[(0,s.jsx)("p",{className:"text-xs font-light tracking-wide ",children:"Deposited Amount"}),(0,s.jsx)("p",{className:"text-lg font-semibold",children:isNaN(e.portfolio_card_props.amount_invested)?"0.00":N.A.format(e.portfolio_card_props.amount_invested)})]}),(0,s.jsxs)("div",{className:"flex flex-col justify-center space-y-1",children:[(0,s.jsx)("p",{className:"text-xs font-light tracking-wide ",children:"Returns"}),(0,s.jsxs)("p",{className:"text-lg font-semibold",children:[isNaN(e.portfolio_card_props.pnl)?"0.00":e.portfolio_card_props.pnl.toFixed(2),"(",isNaN(e.portfolio_card_props.pnlPro)&&(0,s.jsx)("span",{className:"text-green-400",children:"0.00%"}),(0,s.jsxs)("span",{className:"text-green-400",style:{color:e.portfolio_card_props.pnlPro>=0?"#85f36f":"#E2726E"},children:[e.portfolio_card_props.pnlPro>=0&&"+",!isNaN(e.portfolio_card_props.pnlPro)&&"".concat(e.portfolio_card_props.pnlPro.toFixed(2),"%")]}),")"]})]})]});var b=t(82724),w=t(65128),y=t(45265),g=t(83241),_=t(24541),C=t(93520),k=t(95533),P=t(97216),S=t(11027),D=()=>{var e;let[l,t]=(0,i.useState)(),[a,u]=(0,i.useState)(!1),[f,m]=(0,i.useState)(!1),D=(0,i.useRef)(null),{address:A}=(0,c.mA)(),{dashboardChartSelected:V,setDashboardChartSelected:E}=x(),[R,Q]=(0,i.useState)([]),F=async()=>{let e=[];null===_.q||void 0===_.q||_.q.forEach(async l=>{l.address===S.pu?e.push(l):(await (0,p.Z)(l.address,String(A))).amountInvested.length>0&&e.push(l)}),Q(e)};(0,i.useEffect)(()=>{F()},[]);let z=async()=>{if(null==A)return;let e=await Promise.all(_.q.map(async e=>(0,C.Df)(A,e.address))),l=[];e.forEach(e=>{let t=null==e?void 0:e.userPortfolios[0];t&&l.push(t)});let s=[];e.forEach(e=>{let l=null==e?void 0:e.rolloverFromTraders[0];l&&s.push(l)}),t({userPortfolios:l,rolloverFromTraders:s})};(0,i.useEffect)(()=>{z(),F()},[A]),(0,i.useEffect)(()=>{if(a&&!f&&D.current){d.A.success("Please claim your shares/funds before your next transaction!");let{top:e}=D.current.getBoundingClientRect();window.scrollTo({top:e,behavior:"smooth"}),m(!0)}},[a,D]);let I=null==l?void 0:l.rolloverFromTraders,T=null==l?void 0:l.userPortfolios,Y=(0,n.useRouter)(),M=(e,l)=>{var t;let s=null!=I?Number(null===(t=I[l])||void 0===t?void 0:t.assetsPerShare)/1e18:0;return Number(e)/1e30*s},Z=(e,l,t)=>{let s=M(l,t),a=Number(e)/1e42,r=(Number(s)-Number(a))/Number(a);return isNaN(r)?0:r},B=Number((null==T?void 0:T.reduce((e,l)=>e+Number(l.amountInvested),0))/1e42),U=Number(null==T?void 0:T.reduce((e,l,t)=>e+M(l.totalSupply,t),0)),q=U-B,W=q/B*100,X={amount_invested:B,portfolio_value:U,pnl:q,pnlPro:isNaN(W)?0:W};return(0,s.jsx)(k.Z,{children:(0,s.jsxs)("div",{className:"w-full py-10",children:[(0,s.jsx)("p",{className:"text-2xl font-semibold tracking-[0.3px]",children:"Dashboard"}),(0,s.jsx)("div",{className:"relative mt-12 flex gap-4",children:(0,s.jsx)("div",{className:"flex w-full flex-col justify-center",children:(0,s.jsxs)("div",{className:"flex w-full gap-6 max-[1240px]:flex-col",children:[(0,s.jsxs)("div",{className:"w-full",children:[(0,s.jsxs)("div",{className:"h-[fit-content] bg-gradient-custom-90.76deg flex w-full flex-col items-center justify-start space-y-10 rounded-3xl p-10 shadow-2xl max-[640px]:p-4",children:[(0,s.jsxs)("div",{className:"flex w-full items-center justify-between border-b-[0.5px] border-[#9C9C9C] pb-[36.5px] max-[840px]:flex-col max-[840px]:items-start max-[840px]:gap-3",children:[(0,s.jsx)("div",{className:"whitespace-nowrap text-lg font-semibold tracking-[0.3px] text-[#D9DAE1] max-[640px]:pl-4 max-[640px]:pt-4 ",children:"Portfolio Performance"}),(0,s.jsx)("div",{className:"max-[640px]:pl-4",children:(0,s.jsxs)(g.Ph,{value:V,defaultValue:V,onValueChange:E,children:[(0,s.jsx)(g.i4,{className:"w-[400px] border-none bg-[#161617] text-xs font-light tracking-wide max-[640px]:w-full",children:(0,s.jsx)(g.ki,{placeholder:"Complete Portfolio",className:""})}),(0,s.jsxs)(g.Bw,{children:[(0,s.jsx)(g.Ql,{value:"all",children:"Complete Portfolio"}),R.map(e=>(0,s.jsx)(g.Ql,{value:e.address,children:e.strategy},"strategy-option-".concat(e.strategy)))]})]})})]}),(0,s.jsx)("div",{className:"flex w-full items-center justify-center text-3xl font-bold ",children:(0,s.jsx)("div",{className:"relative w-full text-white",children:(0,s.jsx)(h,{})})}),(0,s.jsx)("div",{className:"hidden my-6 w-full",children:(0,s.jsxs)("div",{className:"max-[450px]:flex-col max-[450px]:items-start max-[450px]:gap-3 flex w-full items-center justify-between rounded-xl bg-[#161617] p-3",children:[(0,s.jsx)("div",{className:"max-[768px]:hidden flex items-center justify-between space-x-4",children:["1D","1W","1M","6M","YTD","1Y"].map((e,l)=>(0,s.jsx)("div",{className:(0,j.cn)(3===l&&"pointer-events-none bg-[#2054A5]","w-16 cursor-pointer rounded-xl px-4 py-1 text-center hover:bg-white/10"),children:e},l))}),(0,s.jsx)("div",{className:"hidden w-full max-[768px]:flex",children:(0,s.jsxs)(g.Ph,{children:[(0,s.jsx)(g.i4,{className:"w-[400px] border-none bg-[#1A1B1F] text-xs font-light tracking-wide max-[768px]:w-[180px] max-[450px]:w-full",children:(0,s.jsx)(g.ki,{placeholder:"Select Date",className:""})}),(0,s.jsxs)(g.Bw,{children:[(0,s.jsx)(g.Ql,{value:"none",children:"Select Date"}),(0,s.jsx)(g.Ql,{value:"1D",children:"1D"}),(0,s.jsx)(g.Ql,{value:"1W",children:"1W"}),(0,s.jsx)(g.Ql,{value:"1M",children:"1M"}),(0,s.jsx)(g.Ql,{value:"6M",children:"6M"}),(0,s.jsx)(g.Ql,{value:"YTD",children:"YTD"}),(0,s.jsx)(g.Ql,{value:"1Y",children:"1Y"})]})]})}),(0,s.jsx)(w.z,{onClick:e=>{e.preventDefault(),Y.push("/strategy")},className:"max-[450px]:w-full",children:"Invest"})]})})]}),(0,s.jsxs)("div",{className:"bg-gradient-custom-90.76deg mt-8 flex w-full flex-col items-center justify-center space-y-10 rounded-3xl p-10 shadow-2xl",children:[(0,s.jsxs)("div",{className:"flex w-full items-center justify-between gap-4 border-b-[0.5px] border-[#9C9C9C] pb-[36.5px] max-[900px]:flex-col max-[900px]:items-start",children:[(0,s.jsxs)("div",{className:"text-lg font-semibold tracking-[0.3px] text-[#D9DAE1]",children:["My Vaults (",null!==(e=null==T?void 0:T.length)&&void 0!==e?e:0,")"]}),(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,s.jsx)("div",{className:"whitespace-nowrap",children:"Sort by:"}),(0,s.jsxs)(g.Ph,{children:[(0,s.jsx)(g.i4,{className:"w-[400px] border-none bg-[#161617] text-xs font-light tracking-wide max-[768px]:w-full",children:(0,s.jsx)(g.ki,{placeholder:"Current Value",className:""})}),(0,s.jsxs)(g.Bw,{children:[(0,s.jsx)(g.Ql,{value:"strategy",children:"Current Value"}),R.map(e=>(0,s.jsx)(g.Ql,{value:e.address,children:e.strategy},"strategy-option-".concat(e.strategy)))]})]})]})]}),(0,s.jsxs)("div",{className:" flex w-full flex-col gap-6 overflow-x-auto",children:[(0,s.jsxs)("div",{className:"grid w-full min-w-[640px] grid-cols-10 place-content-center overflow-x-scroll border-b-[0.5px] border-[#9C9C9C] pb-[24px]",children:[(0,s.jsx)("div",{className:"col-span-4",children:"Vault"}),(0,s.jsx)("div",{className:"col-span-2",children:"Deposited Amount"}),(0,s.jsx)("div",{className:"col-span-2",children:"Current Value"}),(0,s.jsx)("div",{className:"col-span-2",children:"Returns"})]}),null==T?void 0:T.map((e,l)=>(0,s.jsxs)("div",{className:"grid w-full min-w-[640px] grid-cols-10 place-items-center border-b-[0.5px] border-[#9C9C9C] pb-[24px]",children:[(0,s.jsx)(r(),{href:"/strategy/".concat(e.userVault.id),className:"col-span-4 flex w-full justify-start",children:(0,P.X)(e.userVault.id)}),(0,s.jsx)("div",{className:"col-span-2 flex w-full justify-start",children:N.A.format(Number(e.amountInvested)/1e42)}),(0,s.jsx)("div",{className:"col-span-2 flex w-full justify-start",children:N.A.format(M(e.totalSupply,l))}),(0,s.jsx)("div",{className:"flex w-full justify-start",style:{color:Z(e.amountInvested,e.totalSupply,l)>=0?"#4ade80":"#E2726E"},children:(0,s.jsxs)("p",{children:[Z(e.amountInvested,e.totalSupply,l)>=0&&"+"," ",(100*Z(e.amountInvested,e.totalSupply,l)).toFixed(2)," %"]})}),(0,s.jsx)("div",{className:"flex items-center justify-center",children:(0,s.jsxs)(y.h_,{children:[(0,s.jsx)(y.$F,{asChild:!0,onClick:e=>e.preventDefault(),children:(0,s.jsx)("div",{children:(0,s.jsx)(w.z,{variant:"ghost",size:"sm",children:(0,s.jsx)(o.evw,{className:"text-2xl"})})})}),(0,s.jsx)(y.AW,{children:(0,s.jsx)(y.Xi,{onClick:()=>{Y.push("/strategy/".concat(e.userVault.id))},children:"View Details"})})]})})]},e.round))]})]}),(0,s.jsx)("div",{className:"max-[1240px]:hidden invisible w-1/3 flex-col gap-6",children:(0,s.jsx)(b.t,{isClaimable:a,setClaimable:u})})]}),(0,s.jsxs)("div",{ref:D,className:"flex w-[550px] flex-col gap-6 max-[1240px]:w-full max-[1240px]:flex-row max-[840px]:flex-col max-[640px]:min-w-fit",children:[(0,s.jsx)(v,{portfolio_card_props:X}),(0,s.jsx)(b.t,{isClaimable:a,setClaimable:u})]})]})})})]})})}},16889:function(e,l,t){"use strict";t.d(l,{A:function(){return s}});let s=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"})}},function(e){e.O(0,[2013,5445,8764,8815,5872,696,5533,2841,5622,2888,9774,179],function(){return e(e.s=48312)}),_N_E=e.O()}]);